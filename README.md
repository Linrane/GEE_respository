# 这是一条公告

这里我会放一些我常用的并且可运行的代码，并且会附带链接，可查看运行效果。以及随着后续的内容的更新，直接看可能会眼花缭乱，所以推荐你先看readme+搜索关键词即可

目前AI技术很先进了，我们可以让AI生成和修改，但是我们最想要的还是一个完整的成果，可以被下载下来直接使用的。

毕竟AI生成还是需要进行一系列的操作的，以及操作还会污染你的代码。

本仓库提供一个范本为了让各位能直接运行，可以直接进行修改和使用，以及我会搜集一些好的不错的工具内容放上来，并且在这里进行更新的说明。

如果有好的想法和建议，以及批评，修改错误等都可以提出，方便大家共同学习。

注：本文所使用的assets和project都是出自于本地上传，所以你需要在如：“var roi = ee.FeatureCollection('projects/ee-linrane111/assets/eeds');”中进行修改，把引号内容的内容修改成你上传的内容即可。

# 1.监督分类下的土地利用覆盖

代码运行：https://code.earthengine.google.com/7c4b50ee54b787fc33d33a2632c88111

整体实现思路如下：

```
1.加载鄂尔多斯研究区边界并可视化

2.加载、预处理 Landsat 8 表面反射率数据（去云、辐射定标）

3.加载 Google Dynamic World V1 土地覆盖数据作为参考标签

4.构建样本数据集（分层采样）并划分训练 / 验证集

5.使用随机森林算法训练分类器

6.评估分类精度（混淆矩阵、总体精度、Kappa 系数等）

7.对 Landsat 影像进行分类并可视化结果

8.将分类结果导出到 Google Drive
```

# 2.Lantsay8真彩影像加载（可添加下载）

代码运行：https://code.earthengine.google.com/0d63173a019bc5c460243ca35724e1ed

整体实现思路如下：

```
1.加载 Landsat 8 C02 T1_L2 级地表反射率影像集合

2.按 2023 全年时间范围、北京经纬度点空间范围、云量低于 10% 的条件筛选影像，并选取符合条件的第一景影像

3.配置真彩色可视化参数（红 / 绿 / 蓝波段组合、亮度范围、伽马校正），将地图视图居中到该影像并添加真彩色图层展示
```

# 3.哨兵一号监测洪水淹没区

代码运行：https://code.earthengine.google.com/dd7b66e827702f2a0a08c9f90741daa0

整体实现思路如下：

```
1.加载鄂尔多斯研究区边界并可视化

2.加载哥白尼 S1 雷达影像集，筛选 VH 极化、IW 模式、升降轨数据

3.按 2021 年洪水期前后日期筛选影像，划分灾前、灾后数据集定义雷达影像单位转换（dB / 自然值）和 RefinedLee 斑点滤波函数

4.对灾前、灾后影像进行镶嵌、裁剪、滤波预处理

5.通过阈值法提取洪水淹没区和永久水体

6.可视化灾前 / 灾后影像、洪水淹没区、永久水体图层

7.计算并输出洪水淹没区面积（公顷）
```

# 4.GHSL 建成区面积分析导出

代码运行：https://code.earthengine.google.com/990d35ecabbf3a192f36fe17d2ad2f53

整体实现思路如下：

```
1.加载鄂尔多斯研究区边界矢量数据并添加到地图可视化，将地图视图居中到研究区

2.加载 JRC/GHSL 100 米分辨率建成区影像集，筛选研究区范围内数据并仅保留建成区波段

3.配置可视化参数，选取影像集中最新年份的影像，裁剪后添加到地图展示

4.遍历影像集，按年份计算研究区内建成区面积（平方米、平方千米），处理空值并构建包含年份和面积信息的特征集合

5.基于特征集合创建柱状图，可视化展示各年份建成区面积变化

6.将包含年份和面积信息的特征集合导出为 CSV 文件到 Google Drive 指定文件夹

7.自动遍历影像集年份，批量创建导出任务，将各年份建成区影像裁剪后以 GeoTIFF 格式导出到 Google Drive 指定路径
```

# 5.逐年 NDWI 均值分析导出

代码运行：https://code.earthengine.google.com/fc15793846f923de26759d1344416984

整体实现思路如下：

```
1.加载鄂尔多斯研究区边界矢量数据并添加到地图可视化，将地图视图居中到研究区

2.加载 Landsat 年度 NDWI 合成影像数据集

3.定义 2014-2024 年的年份范围并生成年份序列列表

4.遍历年份列表，筛选对应年份的 NDWI 影像并计算研究区内 NDWI 均值，构建包含年份和均值信息的特征集合

5.将 NDWI 均值特征集合转换为 FeatureCollection 并打印到控制台

6.基于特征集合创建折线图，可视化展示 2014-2024 年研究区年均 NDWI 变化趋势

7.遍历年份列表，批量创建导出任务，将每年 NDWI 均值影像裁剪后以 GeoTIFF 格式导出到 Google Drive 的 NDWI_Exports 文件夹
```

# 6.NDVI 时序分析

代码运行：https://code.earthengine.google.com/d84a5d42d164b6154d236fedf6d73078

整体实现思路如下：

```
1.加载鄂尔多斯研究区边界矢量数据并添加到地图可视化，将地图视图居中到研究区

2.定义影像缩放因子还原函数，对 Landsat 光学波段和热波段进行辐射定标

3.定义放宽条件的去云掩膜函数，仅屏蔽高置信度云和云阴影，保留薄云等低影响像素

4.处理 2000-2011 年 Landsat 5 影像：按年份筛选影像，应用缩放还原和去云函数，计算 NDVI 并取年度中值，裁剪到研究区后添加年份属性

5.处理 2012 年 Landsat 7 影像：按相同流程（适配 L7 数据源）计算年度 NDVI 中值，裁剪到研究区并添加年份属性

6.处理 2013-2023 年 Landsat 8 影像：适配 L8 波段组合计算 NDVI，按相同流程生成年度 NDVI 中值影像，裁剪到研究区并添加年份属性

7.合并 L5、L7、L8 处理后的影像集合，形成 2000-2023 年连续的 NDVI 时序数据集

8.创建 NDVI 时序折线图，适配鄂尔多斯干旱区特征调整 Y 轴范围，添加线性趋势线并显示 R² 值，可视化展示 NDVI 年际变化趋势
```

# 7.LST 与 NDVI 相关性分析

代码运行：https://code.earthengine.google.com/d7da1ecdbf372b39690a48d95b07f171

整体实现思路如下：

```
1.加载鄂尔多斯研究区边界矢量数据并添加到地图可视化，将地图视图居中到研究区

2.加载 2024 年 4-7 月 Landsat 8 影像集，筛选云量 < 10% 的影像并计算中值合成，裁剪到研究区

3.定义 NDVI 计算函数，基于 Landsat 8 B5、B4 波段计算归一化植被指数并添加为影像波段

4.定义地表发射率计算函数，基于 NDVI 值估算地表发射率并添加为影像波段

5.定义地表温度（LST）计算函数，将热红外波段 DN 值转换为亮温，结合发射率计算真实地表温度

6.依次执行 NDVI、发射率、LST 计算流程，生成包含多参数的影像并打印 LST 影像信息

7.计算研究区内 LST 的最小值、最大值、平均值，创建并配置统计面板展示这些结果

8.对 LST 和 NDVI 进行 1000 个像素的采样分析，计算二者皮尔逊相关系数并打印结果

9.基于采样数据创建散点图，可视化展示 LST 与 NDVI 的相关性并添加趋势线

10.定义 LST 和 NDVI 的可视化参数及图例创建函数，分别生成对应图例面板

11.创建地图切换下拉控件，实现 “选择地图”“地表温度”“植被指数” 图层切换，同步管理图例和统计面板的显示 / 隐藏

12.初始化地图控件，设置默认显示 “选择地图” 状态，仅展示研究区边界
```

# 8.16mFVC时空对比分析

代码运行：https://code.earthengine.google.com/2d13208e5027d18937fb115911e9da02

整体实现思路如下：

```
1.加载通辽研究区边界几何数据，设定 2015/2025 年 5-9 月时间范围和 16 米输出分辨率等基础参数

2.加载 Landsat 8/9 C02 T1_L2 影像集并合并，定义云雪掩膜函数，过滤云、卷云、雪像素后提取光学波段并归一化，同时计算 NDVI 并添加为波段

3.定义 FVC 计算核心函数：筛选指定时间范围的影像，计算 NDVI 最大值，通过 5%/95% 分位数确定裸地 / 植被 NDVI 阈值，基于阈值计算植被覆盖度（FVC）并限制取值范围 0-1

4.调用 FVC 计算函数，分别生成 2015 年和 2025 年通辽地区 NDVI 最大值影像和 FVC 影像

5.配置 NDVI 和 FVC 可视化参数，将通辽边界、2015/2025 年 NDVI 及 FVC 影像添加到地图并居中视图

6.批量创建导出任务，将 2015/2025 年的 FVC 和 NDVI 影像以 16 米分辨率、EPSG:4326 投影导出到 Google Drive 指定文件夹
```

# 9.30mFVC年度对比计算

代码运行：https://code.earthengine.google.com/6cbbb1c4eec7fbcacd307e08179e1a87

整体实现思路如下:

```
1.加载通辽研究区边界几何数据，将地图视图居中到研究区并添加边界可视化图层

2.定义 2015 年和 2025 年 6-8 月（植被生长季）的时间范围，聚焦植被覆盖稳定期

3.定义 Landsat 8 去云函数，屏蔽云、卷云像素，提取光学波段并归一化，基于 SR_B5/SR_B4 波段计算 NDVI 并添加为影像波段

4.定义年度数据处理函数：加载指定时间范围的 Landsat 8 影像，去云后提取 NDVI 波段，计算 NDVI 最大值合成影像，通过 5%/95% 分位数确定裸土 / 全植被 NDVI 阈值，基于像元二分模型计算 FVC 并限制取值范围 0-1

5.调用年度处理函数，分别生成 2015 年和 2025 年通辽地区 NDVI 最大值影像和 FVC 影像

6.配置 NDVI 和 FVC 可视化参数，将 2015/2025 年的 NDVI 及 FVC 影像添加到地图展示

7.创建导出任务，将 2015 年和 2025 年的 FVC 影像以 30 米分辨率、EPSG:4326 投影导出到 Google Drive 指定文件夹
```

# 10.10mNDVI年度导出

代码运行：https://code.earthengine.google.com/e2a00e29b9b484b5b606802d5e730411

整体实现思路如下：

```
1.加载鄂尔多斯研究区边界矢量数据，将地图视图居中到研究区

2.配置 NDVI 可视化参数，设定数值范围 0-0.8 及蓝 - 绿 - 红配色方案

3.定义哨兵 2 云掩膜函数，基于 QA60 波段屏蔽云、卷云像素

4.定义 NDVI 计算函数，基于 B8/B4 波段计算归一化植被指数，将值限制在 0-1 范围并添加为影像波段

5.加载 2016-2017 年哨兵 2 Harmonized 影像集，筛选云量 < 20% 的影像，应用云掩膜和 NDVI 计算函数后仅保留 NDVI 波段

6.生成 2015-2025 年年份序列，遍历年份筛选对应年度 NDVI 影像并计算最大值合成，添加年份和时间属性

7.将各年度 NDVI 最大值影像裁剪到研究区后添加到地图可视化

8.批量创建导出任务，将 2015-2025 年 NDVI 影像以 10 米分辨率、EPSG:4326 投影导出到 Google Drive 指定文件夹
```





